import{r as p,j as e,a as _}from"./client-CnuwemY9.js";/* empty css              */const $=({username:i,currency:m="USD",metrics:s,recentInvoices:c=[],bankFeed:d=[],expenseSummary:b=[],cashflow:x,urls:a})=>{const v=i&&i.trim().length?i:"there",n=t=>t||"#",y=p.useMemo(()=>{try{return new Intl.NumberFormat(void 0,{style:"currency",currency:m||"USD"})}catch{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD"})}},[m]),l=t=>y.format(t||0),o=p.useMemo(()=>{const t=(x==null?void 0:x.labels)||[],r=(x==null?void 0:x.income)||[],h=(x==null?void 0:x.expenses)||[];return t.slice(-6).map((j,g)=>({label:j,income:r[g]||0,expenses:h[g]||0}))},[x]),f=p.useMemo(()=>o.length?Math.max(...o.map(t=>Math.max(t.income||0,t.expenses||0,0)),1):1,[o]),w=p.useMemo(()=>{const t=[];return((s==null?void 0:s.overdue_count)||0)>0&&t.push({title:`${s==null?void 0:s.overdue_count} invoice${(s==null?void 0:s.overdue_count)===1?"":"s"} overdue`,body:`Customers owe ${l(s==null?void 0:s.overdue_total)}`,color:"bg-amber-500",cta:"Review",href:n((a==null?void 0:a.overdueInvoices)||(a==null?void 0:a.invoices))}),d.length&&t.push({title:`${d.length} bank item${d.length===1?"":"s"} to review`,body:`Latest entry: ${d[0].description}`,color:"bg-sky-500",cta:"Open",href:n((a==null?void 0:a.bankReview)||(a==null?void 0:a.banking))}),((s==null?void 0:s.unpaid_expenses_total)||0)>0&&t.push({title:"Unpaid expenses",body:`${l(s==null?void 0:s.unpaid_expenses_total)} awaiting payment`,color:"bg-rose-500",cta:"Inspect",href:n((a==null?void 0:a.unpaidExpenses)||(a==null?void 0:a.expenses))}),t.length||t.push({title:"Everything reconciled",body:"No outstanding tasks right now.",color:"bg-emerald-500",cta:"Nice",href:"#"}),t.slice(0,3)},[s,d,l,a]);return e.jsx("div",{className:"min-h-screen w-full bg-slate-50 text-slate-900 px-4 py-6",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6",children:[e.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium uppercase tracking-[0.16em] text-slate-500",children:"Overview"}),e.jsxs("h1",{className:"text-2xl sm:text-3xl font-semibold tracking-tight text-slate-900",children:["Morning, ",v,". Your books are in good shape."]}),e.jsx("p",{className:"text-sm text-slate-500",children:"Live snapshot across cash, invoices, expenses, suppliers, and profit & loss."})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsxs("a",{href:n(a==null?void 0:a.banking),className:"inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[e.jsx("span",{className:"mr-1.5 h-1.5 w-1.5 rounded-full bg-emerald-500"}),"Go to banking"]}),e.jsx("a",{href:n(a==null?void 0:a.profitAndLoss),className:"inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:"View P&L"})]})]}),e.jsxs("section",{className:"grid gap-4 lg:grid-cols-[1.15fr,1.1fr]",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 px-4 py-4 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Cash on hand"}),e.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-900",children:l(s==null?void 0:s.cash_on_hand)}),e.jsxs("div",{className:"mt-1 flex items-center gap-1.5 text-[11px] text-emerald-600",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),e.jsx("span",{children:"Updated live from ledger balances"})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 px-4 py-4 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Open invoices"}),e.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-900",children:l(s==null?void 0:s.open_invoices_total)}),e.jsxs("div",{className:"mt-1 flex items-center justify-between text-[11px] text-slate-600",children:[e.jsxs("span",{children:[(s==null?void 0:s.open_invoices_count)||0," awaiting payment"]}),e.jsxs("span",{className:"rounded-full bg-amber-50 px-2 py-0.5 font-medium text-amber-700",children:[(s==null?void 0:s.overdue_count)||0," overdue"]})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 px-4 py-4 shadow-sm",children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Month-to-date P&L"}),e.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-900",children:l(s==null?void 0:s.net_income_month)}),e.jsxs("div",{className:"mt-1 flex items-center gap-1.5 text-[11px] text-slate-600",children:[e.jsxs("span",{className:"rounded-full bg-sky-50 px-2 py-0.5 font-medium text-sky-700",children:["Revenue ",l(s==null?void 0:s.revenue_30)]}),e.jsxs("span",{children:["vs expenses ",l(s==null?void 0:s.expenses_30)]})]})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 p-4 sm:p-5 shadow-sm flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:"Cashflow — last 6 periods"}),e.jsxs("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:["Smooth and trending ",o.length?"with your real numbers":"— add data to populate."]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-slate-500",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-emerald-50 px-2 py-0.5 font-medium text-emerald-700",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),"Inflows"]}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-rose-50 px-2 py-0.5 font-medium text-rose-700",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-rose-500"}),"Outflows"]})]})]}),e.jsxs("div",{className:"relative mt-1 h-32 rounded-2xl bg-slate-50/80 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-x-4 bottom-4 top-5 flex items-end gap-2",children:o.length?o.map((t,r)=>{const h=Math.max(6,t.income/f*90),j=Math.max(4,t.expenses/f*60);return e.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-1",children:[e.jsx("div",{className:"rounded-full bg-emerald-200",style:{height:`${h}%`}}),e.jsx("div",{className:"rounded-full bg-rose-200",style:{height:`${j}%`}})]},`${t.label}-${r}`)}):e.jsx("div",{className:"text-sm text-slate-500 px-4",children:"Add invoices and expenses to populate this view."})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/40 to-transparent"})]}),e.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-500",children:[e.jsx("span",{children:o.length?`${o[0].label} → ${o[o.length-1].label}`:"Waiting for activity"}),e.jsx("button",{className:"rounded-full border border-slate-200 bg-white px-2.5 py-1 text-[11px] font-medium hover:bg-slate-50",children:"View cashflow report"})]})]})]}),e.jsxs("section",{className:"grid gap-4 xl:grid-cols-[1.1fr,1.05fr]",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 p-4 sm:p-5 shadow-sm flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Invoices"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Snapshot of what's open, overdue, and collected."})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs",children:e.jsx("a",{href:n(a==null?void 0:a.newInvoice),className:"rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700 hover:bg-white",children:"New invoice"})})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"Open"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:l(s==null?void 0:s.open_invoices_total)}),e.jsxs("p",{className:"mt-0.5 text-[11px] text-slate-500",children:[(s==null?void 0:s.open_invoices_count)||0," invoices"]})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"Overdue"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-amber-700",children:l(s==null?void 0:s.overdue_total)}),e.jsxs("p",{className:"mt-0.5 text-[11px] text-amber-700",children:[(s==null?void 0:s.overdue_count)||0," clients"]})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"Collected (30d)"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-700",children:l(s==null?void 0:s.revenue_30)}),e.jsxs("p",{className:"mt-0.5 text-[11px] text-emerald-700",children:["vs expenses ",l(s==null?void 0:s.expenses_30)]})]})]}),e.jsxs("div",{className:"mt-1 rounded-2xl border border-slate-100 bg-slate-50/80 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-600 mb-2",children:[e.jsx("span",{children:"Recent invoices"}),e.jsx("span",{children:"Date · Client · Status · Total"})]}),e.jsx("div",{className:"space-y-1.5 text-xs",children:c.length?c.slice(0,3).map(t=>e.jsxs("a",{href:n(t.url||(a==null?void 0:a.invoices)),className:"flex items-center justify-between rounded-xl bg-white px-3 py-2 hover:bg-slate-50 transition",children:[e.jsxs("span",{className:"flex-1 truncate",children:["#",t.number," · ",t.customer]}),e.jsx("span",{className:"w-24 text-right text-slate-500",children:t.due_label}),e.jsx("span",{className:"w-20 text-right font-medium text-slate-900",children:l(t.amount)})]},t.number)):e.jsx("div",{className:"text-slate-500 text-sm px-2 py-3",children:"No invoices yet."})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 p-4 sm:p-5 shadow-sm flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Bank feed"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:d.length?`${d.length} item${d.length===1?"":"s"} need review.`:"Connect a bank feed to see activity here."})]}),e.jsx("a",{href:n(a==null?void 0:a.banking),className:"rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-white",children:"Go to banking"})]}),e.jsx("div",{className:"space-y-1.5 text-xs",children:d.length?d.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between rounded-2xl bg-slate-50 px-3 py-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-slate-900",children:t.description}),e.jsx("span",{className:"text-[11px] text-slate-500",children:t.note})]}),e.jsxs("span",{className:`font-semibold ${t.amount>=0?"text-emerald-700":"text-rose-600"}`,children:[t.amount>=0?"+":"-",l(Math.abs(t.amount))]})]},`${t.description}-${r}`)):e.jsx("div",{className:"text-slate-500 text-sm px-2 py-3",children:"No transactions yet."})})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 p-4 sm:p-5 shadow-sm flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Expenses"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Where your money is going this month."})]}),e.jsx("a",{href:n(a==null?void 0:a.expenses),className:"rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-white",children:"View expenses"})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-3 text-xs",children:[e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"This month"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:l(s==null?void 0:s.expenses_month)}),e.jsxs("p",{className:"mt-0.5 text-[11px] text-slate-500",children:["vs revenue ",l(s==null?void 0:s.revenue_month)]})]}),b.slice(0,2).map(t=>e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"Top category"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:t.name}),e.jsx("p",{className:"mt-0.5 text-[11px] text-slate-500",children:l(t.total)})]},t.name)),b.length===0&&e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"No expenses yet"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-900",children:"Log your first expense."})]})]})]})]})]}),e.jsxs("section",{className:"grid gap-4 xl:grid-cols-[1.05fr,1.05fr]",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 p-4 sm:p-5 shadow-sm flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Suppliers"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Who you're paying most frequently."})]}),e.jsx("a",{href:n(a==null?void 0:a.suppliers),className:"rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-white",children:"Manage suppliers"})]}),e.jsxs("div",{className:"space-y-1.5 text-xs",children:[c.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center justify-between rounded-2xl bg-slate-50 px-3 py-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium text-slate-900",children:t.customer||"Client"}),e.jsxs("span",{className:"text-[11px] text-slate-500",children:["Invoice #",t.number]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-slate-900",children:l(t.amount)}),e.jsx("p",{className:"text-[11px] text-slate-500",children:t.due_label})]})]},`supplier-${t.number}`)),!c.length&&e.jsx("div",{className:"text-slate-500 text-sm px-2 py-3",children:"Invite suppliers to start tracking them here."})]}),e.jsx("p",{className:"pt-1 text-[11px] text-slate-500",children:"Tip: Turn your largest recurring suppliers into scheduled bills so you never miss a payment."})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-[1.05fr,0.95fr]",children:[e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 p-4 sm:p-5 shadow-sm flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Profit & loss summary"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Month-to-date performance."})]}),e.jsx("a",{href:n(a==null?void 0:a.profitAndLoss),className:"rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-xs font-medium text-slate-700 hover:bg-white",children:"Open P&L"})]}),e.jsxs("div",{className:"grid gap-3 text-xs sm:grid-cols-2",children:[e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"Revenue"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:l(s==null?void 0:s.revenue_month)})]}),e.jsxs("div",{className:"rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3",children:[e.jsx("p",{className:"text-[11px] text-slate-500",children:"Expenses"}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-900",children:l(s==null?void 0:s.expenses_month)})]})]}),e.jsxs("div",{className:"mt-1 rounded-2xl bg-slate-50/80 border border-slate-100 px-3 py-3 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium text-slate-900",children:"Net profit"}),e.jsx("p",{className:"font-semibold text-emerald-700",children:l(s==null?void 0:s.net_income_month)})]}),e.jsx("p",{className:"mt-1 text-[11px] text-slate-500",children:"Revenue and expenses pulled directly from your ledger this month."})]})]}),e.jsxs("div",{className:"rounded-3xl border border-slate-100 bg-white/90 p-4 sm:p-5 shadow-sm flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-slate-500",children:"Mini-Books AI"}),e.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"Quick wins for today."})]}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-900 px-3 py-1 text-[11px] font-medium text-slate-50",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400"}),"Agent idle"]})]}),e.jsx("ul",{className:"mt-1 space-y-1.5 text-xs",children:w.map(t=>e.jsxs("li",{className:"flex items-start gap-2 rounded-2xl bg-slate-50 px-3 py-2",children:[e.jsx("span",{className:`mt-0.5 h-1.5 w-1.5 rounded-full ${t.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-slate-900",children:t.title}),e.jsx("p",{className:"text-[11px] text-slate-500",children:t.body})]}),e.jsx("a",{href:t.href,className:"text-[11px] font-medium text-slate-700 hover:underline",children:t.cta})]},t.title))})]})]})]})]})})},N=document.getElementById("dashboard-root"),u=document.getElementById("dashboard-data");if(N&&u)try{const i=JSON.parse(u.textContent||"{}");_(N).render(e.jsx($,{...i})),window.dispatchEvent(new Event("dashboard-mounted"))}catch(i){console.error("Unable to parse dashboard payload",i)}
