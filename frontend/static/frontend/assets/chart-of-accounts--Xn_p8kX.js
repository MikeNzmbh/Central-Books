import{r,j as e,a as L,R as T}from"./index-CIs9J7YI.js";const u={ASSET:"Assets",LIABILITY:"Liabilities",EQUITY:"Equity",INCOME:"Income",EXPENSE:"Expenses"};function v(a,n){const l=a<0?"-":"",c=Math.abs(a).toFixed(2);return`${l}$${c} ${n}`}function f(a,n){return a===0?`No ${n}s`:a===1?`1 ${n}`:`${a} ${n}s`}const I=({payload:a,newAccountUrl:n})=>{const l=a.accounts||[],c=a.currencyCode||"USD",i=a.totalsByType,[x,g]=r.useState("ALL"),[d,j]=r.useState("ACTIVE"),[o,N]=r.useState(""),[p,b]=r.useState(!1),h=r.useMemo(()=>l.filter(t=>{if(x!=="ALL"&&t.type!==x||d==="ACTIVE"&&!t.isActive||d==="ARCHIVED"&&t.isActive||p&&!t.favorite)return!1;if(o.trim()){const s=o.toLowerCase();if(!`${t.code} ${t.name} ${t.detailType}`.toLowerCase().includes(s))return!1}return!0}),[l,x,d,o,p]),w=r.useMemo(()=>{if(i)return i;const t={};return l.forEach(s=>{t[s.type]=(t[s.type]||0)+s.balance}),t},[l,i]),y=l.filter(t=>t.isActive).length,A=l.length-y,E=()=>{n&&(window.location.href=n)};return e.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans",children:e.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-8",children:[e.jsxs("header",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-[11px] font-semibold tracking-[0.18em] text-slate-400 uppercase mb-2",children:"REPORTS"}),e.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-900 mb-1",children:"Chart of Accounts"}),e.jsx("p",{className:"text-sm text-slate-500 max-w-xl",children:"Review, group, and maintain the accounts that power your ledger, Profit & Loss, and balance sheet."})]}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 sm:items-end",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"inline-flex items-center rounded-full bg-slate-900 px-4 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-black",type:"button",onClick:E,children:"+ New account"}),e.jsx("button",{className:"inline-flex items-center rounded-full border border-slate-200 bg-white px-3 py-1.5 text-xs font-medium text-slate-600 shadow-sm hover:bg-slate-50",children:"Reorder codes"})]}),e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white px-3 py-2 text-right text-xs text-slate-500 shadow-sm",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-[0.18em] text-slate-400 mb-1",children:"Accounts overview"}),e.jsxs("div",{className:"flex items-center justify-end gap-3 text-[11px]",children:[e.jsx("span",{className:"text-slate-600",children:f(y,"active account")}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),e.jsx("span",{className:"text-slate-400",children:f(A,"archived")})]})]})]})]}),e.jsxs("div",{className:"mb-5 grid gap-4 lg:grid-cols-[minmax(0,2.1fr)_minmax(0,2.4fr)]",children:[e.jsxs("section",{className:"rounded-3xl bg-white shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100 px-5 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[e.jsx("h2",{className:"text-[13px] font-semibold text-slate-900",children:"Balances by type"}),e.jsx("span",{className:"text-[11px] text-slate-400",children:"Ledger-backed preview"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 text-[11px]",children:["ASSET","LIABILITY","EQUITY","INCOME","EXPENSE"].map(t=>{const s=w[t]||0,C=(t==="INCOME"?s<0:s>=0)?"text-emerald-600":"text-rose-600";return e.jsxs("div",{className:"rounded-2xl bg-slate-50 px-3 py-2 ring-1 ring-slate-100 flex flex-col gap-0.5",children:[e.jsx("div",{className:"flex items-center justify-between gap-2",children:e.jsx("span",{className:"text-[10px] font-medium tracking-[0.16em] uppercase text-slate-400",children:u[t]})}),e.jsx("span",{className:`text-xs font-semibold ${C}`,children:v(s,c)})]},t)})})]}),e.jsxs("section",{className:"rounded-3xl bg-white shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100 px-5 py-4 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("h2",{className:"text-[13px] font-semibold text-slate-900",children:"Refine this view"}),e.jsx("button",{type:"button",className:"text-[11px] font-medium text-sky-600 hover:text-sky-700",onClick:()=>{g("ALL"),j("ACTIVE"),N(""),b(!1)},children:"Reset"})]}),e.jsx("div",{className:"flex flex-wrap items-center gap-2",children:e.jsx("div",{className:"inline-flex gap-1 rounded-full bg-slate-50 p-1 text-[11px] font-medium",children:["ALL","ASSET","LIABILITY","EQUITY","INCOME","EXPENSE"].map(t=>{const s=x===t||t==="ALL"&&x==="ALL";return e.jsx("button",{type:"button",onClick:()=>g(t),className:`rounded-full px-2.5 py-1 transition ${s?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-800"}`,children:t==="ALL"?"All types":u[t]},t)})})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"inline-flex gap-1 rounded-full bg-slate-50 p-1 text-[11px] font-medium",children:["ACTIVE","ARCHIVED","ALL"].map(t=>{const s=d===t;return e.jsx("button",{type:"button",onClick:()=>j(t),className:`rounded-full px-2.5 py-1 transition ${s?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-800"}`,children:t==="ACTIVE"?"Active only":t==="ARCHIVED"?"Archived only":"Show all"},t)})}),e.jsxs("label",{className:"inline-flex items-center gap-2 text-[11px] text-slate-600",children:[e.jsx("input",{type:"checkbox",className:"h-3.5 w-3.5 rounded border-slate-300 text-sky-600 focus:ring-sky-500",checked:p,onChange:t=>b(t.target.checked)}),"Show favorites only"]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"search",value:o,onChange:t=>N(t.target.value),placeholder:"Search by name, code, or detail type",className:"h-8 w-full rounded-full border border-slate-200 bg-slate-50 px-3 text-xs text-slate-700 outline-none focus:border-sky-400 focus:bg-white focus:ring-2 focus:ring-sky-100"})})})]})]}),e.jsxs("section",{className:"rounded-3xl bg-white shadow-[0_18px_45px_rgba(15,23,42,0.06)] ring-1 ring-slate-100 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 border-b border-slate-100 px-5 py-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-[13px] font-semibold text-slate-900",children:"Accounts"}),e.jsxs("p",{className:"text-[11px] text-slate-500",children:[f(h.length,"account")," shown with current filters."]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-slate-500",children:[e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-50 px-2 py-0.5 ring-1 ring-slate-100",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),"Active"]}),e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-50 px-2 py-0.5 ring-1 ring-slate-100",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-slate-400"}),"Archived"]})]})]}),h.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center px-8 py-12 text-center text-xs text-slate-400",children:[e.jsx("p",{children:"No accounts match these filters."}),e.jsx("p",{className:"mt-1",children:"Try adjusting the type or status filters, or clear the search."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-100 text-xs",children:[e.jsx("thead",{className:"bg-slate-50 text-[11px] uppercase tracking-[0.14em] text-slate-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-5 py-2 text-left font-medium",children:"Code"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Name"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Type"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Detail type"}),e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-right font-medium",children:"Balance"}),e.jsx("th",{className:"px-4 py-2 text-right font-medium"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50/70 transition",children:[e.jsx("td",{className:"whitespace-nowrap px-5 py-2 text-[11px] font-medium text-slate-500",children:t.code}),e.jsx("td",{className:"max-w-[240px] px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[t.favorite&&e.jsx("span",{className:"inline-flex h-3 w-3 items-center justify-center rounded-full bg-amber-100 text-[9px] text-amber-700",children:"â˜…"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"truncate text-[13px] font-semibold text-slate-900",children:t.name}),e.jsx("div",{className:"truncate text-[11px] text-slate-500",children:t.detailType})]})]})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-[11px] text-slate-600",children:u[t.type]}),e.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-[11px] text-slate-500",children:t.detailType}),e.jsx("td",{className:"whitespace-nowrap px-3 py-2",children:t.isActive?e.jsx("span",{className:"inline-flex items-center rounded-full bg-emerald-50 px-2 py-0.5 text-[10px] font-medium text-emerald-700 ring-1 ring-emerald-100",children:"Active"}):e.jsx("span",{className:"inline-flex items-center rounded-full bg-slate-50 px-2 py-0.5 text-[10px] font-medium text-slate-500 ring-1 ring-slate-200",children:"Archived"})}),e.jsx("td",{className:"whitespace-nowrap px-3 py-2 text-right text-[11px] font-semibold text-slate-900",children:v(t.balance,c)}),e.jsx("td",{className:"whitespace-nowrap px-4 py-2 text-right",children:e.jsx("button",{className:"text-[11px] font-medium text-sky-600 hover:text-sky-700",children:"Edit"})})]},t.id))})]})})]})]})})},m=document.getElementById("chart-of-accounts-root");if(m){const a=m.getAttribute("data-initial")||"{}",n=m.getAttribute("data-new-account-url")||"";let l={accounts:[],currencyCode:"USD"};try{const i=JSON.parse(a);l={accounts:i.accounts||[],currencyCode:i.currencyCode||"USD",totalsByType:i.totalsByType||{}}}catch(i){window.console&&console.error("Unable to parse Chart of Accounts payload:",i)}L(m).render(e.jsx(T.StrictMode,{children:e.jsx(I,{payload:l,newAccountUrl:n})}))}
